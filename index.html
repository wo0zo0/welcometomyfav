<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>김건우 아카이브</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <button class="menu-btn" aria-label="menu">☰</button>

  <nav class="menu" aria-label="menu">
    <button class="close-btn" aria-label="close">←</button>
    <ul>
      <li><a class="menu-link" href="#selfie">셀카</a></li>
      <li><a class="menu-link" href="#songs">추천곡</a></li>
    </ul>
  </nav>

  <main class="content">
    <section id="selfie" class="section">
      <h2>셀카</h2>
      <div class="grid">
        <img src="images/1.jpg" alt="selfie 1">
        <img src="images/2.jpg" alt="selfie 2">
        <img src="images/3.jpg" alt="selfie 3">
      </div>
    </section>

    <section id="songs" class="section">
      <h2>추천곡</h2>
      <p>여긴 나중에 채울거임</p>
    </section>
  </main>

  <script>
    const btn = document.querySelector('.menu-btn')
    const menu = document.querySelector('.menu')
    const close = document.querySelector('.close-btn')
    const links = document.querySelectorAll('.menu-link')

    function openContentAndGo(hash) {
      document.body.classList.add('show-content')
      const target = document.querySelector(hash)
      setTimeout(() => {
        if (!target) return
        const y = target.getBoundingClientRect().top + window.pageYOffset
        window.scrollTo(0, y)
      }, 50)
    }

    btn.addEventListener('click', () => {
      menu.classList.add('open')
    })

    close.addEventListener('click', () => {
      menu.classList.remove('open')
    })

    links.forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault()
        const hash = link.getAttribute('href')
        menu.classList.remove('open')
        history.replaceState(null, "", hash)
        openContentAndGo(hash)
      })
    })

    if (location.hash) {
      openContentAndGo(location.hash)
    }
  </script>
</body>
</html>
